<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    {% load plants_tags %}

    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0">
    <meta name="description" content="{% firstof request.path|stripSlashes|titleCaps "Plants"%}.">
    
    <!--PWA-->
    <!-- TODO add site title -->
    <link rel="manifest" href="{% static 'manifest.json' %}">
    <link rel="apple-touch-icon" href="{% static 'icons/plant.512x512.png' %}">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="Site">
    <meta name="theme-color" content="#0A0302">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Site">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="apple-touch-icon" href={% static '/icons/plant.512x512.png' %} sizes="">
    <link rel="apple-touch-icon" href={% static '/icons/plant.64x64.png' %} sizes="">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content={% static '/icons/plant.64x64.png' %}>
    <link rel="icon" sizes="" href={% static '/icons/plant.64x64.png' %}>

    <!--Styles-->
    <link rel="stylesheet" href="{% static 'main.min.css' %}"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    
    <!--Service worker-->
    <script>
        // Check that service workers are supported
        if ('serviceWorker' in navigator) {
            // Use the window load event to keep the page load performant
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/serviceworker.js').then(
                    function(reg){
                        console.log('Service worker registered');
                    })
                    .catch(function(error){
                        console.log(error)
                    });
                });
            }
    </script>

    <!-- TODO add site title -->
    <title>
        Site | {% block title %}Plants{% endblock %}
    </title>
</head>

<body>
    {% include 'header.html'%}
    <div id="content">
        {% block content %}{% endblock %}
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
</body>
</html>